(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{1693:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return k}});var r=n(2982);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=n(4942),m=n(7294),h=n(5893);function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var v=n(2891),g={new:"lightblue",playing:"deepskyblue",won:"lightgreen",lost:"lightcoral"},b=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},S=function(t){s(n,t);var e=y(n);function n(){var t;o(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a)),(0,d.Z)(c(t),"handleClick",(function(){t.props.clickable&&t.props.onClick(t.props.id)})),t}return i(n,[{key:"render",value:function(){return(0,h.jsx)("div",{className:"number",style:{opacity:this.props.clickable?1:.3},onClick:this.handleClick,children:this.props.value})}}]),n}(m.PureComponent),w=function(t){s(n,t);var e=y(n);function n(){var t;o(this,n);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i)),(0,d.Z)(c(t),"state",{gameStatus:"new",remainingSeconds:t.props.initialSeconds,selectedIds:[]}),(0,d.Z)(c(t),"challengeNumbers",Array.from({length:t.props.challengeSize}).map((function(){return b(2,9)}))),(0,d.Z)(c(t),"target",v.sum(v.sampleSize(t.challengeNumbers,t.props.answerSize))),(0,d.Z)(c(t),"intervalId",void 0),(0,d.Z)(c(t),"isNumberAvailable",(function(e){return-1===t.state.selectedIds.indexOf(e)})),(0,d.Z)(c(t),"startGame",(function(){t.setState({gameStatus:"playing"},(function(){t.intervalId=setInterval((function(){t.setState((function(e){var n=e.remainingSeconds-1;return 0===n?(clearInterval(t.intervalId),{gameStatus:"lost",remainingSeconds:0}):{remainingSeconds:n}}))}),1e3)}))})),(0,d.Z)(c(t),"selectNumber",(function(e){t.setState((function(n){if("playing"!==n.gameStatus)return null;var o=[].concat((0,r.Z)(n.selectedIds),[e]);return{selectedIds:o,gameStatus:t.calcGameStatus(o)}}),(function(){"playing"!==t.state.gameStatus&&clearInterval(t.intervalId)}))})),(0,d.Z)(c(t),"calcGameStatus",(function(e){var n=e.reduce((function(e,n){return e+t.challengeNumbers[n]}),0);return e.length!==t.props.answerSize?"playing":n===t.target?"won":"lost"})),t}return i(n,[{key:"componentDidMount",value:function(){this.props.autoPlay&&this.startGame()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var t=this,e=this.state,n=e.gameStatus,r=e.remainingSeconds;return(0,h.jsxs)("div",{className:"game",children:[(0,h.jsx)("div",{className:"target",style:{backgroundColor:g[n]},children:"new"===n?"TARGET":this.target}),(0,h.jsx)("div",{className:"challenge-numbers",children:this.challengeNumbers.map((function(e,r){return(0,h.jsx)(S,{id:r,value:"new"===n?"?":e,clickable:t.isNumberAvailable(r),onClick:t.selectNumber},r)}))}),(0,h.jsxs)("div",{className:"help",children:["Pick ",this.props.answerSize," numbers that sum to the target in ",this.props.initialSeconds," seconds"]}),(0,h.jsxs)("div",{className:"footer",children:["new"===n&&(0,h.jsx)("button",{onClick:this.startGame,children:"Start"}),"playing"===n&&(0,h.jsx)("div",{className:"timer-value",children:r}),["won","lost"].includes(n)&&(0,h.jsx)("button",{onClick:this.props.onPlayAgain,children:"Play Again"})]})]})}}]),n}(m.Component),k=function(t){s(n,t);var e=y(n);function n(){var t;o(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a)),(0,d.Z)(c(t),"state",{gameId:1}),(0,d.Z)(c(t),"resetGame",(function(){return t.setState((function(t){return{gameId:t.gameId+1}}))})),t}return i(n,[{key:"render",value:function(){return(0,h.jsx)(w,{autoPlay:this.state.gameId>1,challengeRange:[2,9],challengeSize:6,answerSize:4,initialSeconds:15,onPlayAgain:this.resetGame},this.state.gameId)}}]),n}(m.Component)},8898:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cases/targetsum",function(){return n(1693)}])},907:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},2982:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(907);var o=n(181);function a(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,o.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(907);function o(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}}},function(t){t.O(0,[932,774,888,179],(function(){return e=8898,t(t.s=e);var e}));var e=t.O();_N_E=e}]);